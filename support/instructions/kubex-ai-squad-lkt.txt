/// .codex/config.toml ///
[settings]
model_reasoning_summary = "concise"
user_intent_summary     = "detailed"
project_summary         = "detailed"
default_max_tokens_out  = 700
fail_fast               = true
temperature             = 0.1

[manifests]
# cada repo ter√° estes princ√≠pios leves sempre no contexto
paths = [
  "docs/brand/**/kubex_brand_visual_spec*.md",
  "docs/architecture/**/Resilience-by-Design*.md",
  "docs/governance/**/KUBEX_MANIFESTO*.md"
]
max_tokens = 300
update_strategy = "incremental"
priority = "high"

[context]
scopes = [
  { name = "objective",   max_tokens = 120, summarization = "bullet_goals" },
  { name = "constraints", max_tokens = 120, summarization = "hard_rules"   },
  { name = "facts",       max_tokens = 200, summarization = "code_facts"   },
  { name = "delta",       max_tokens = 180, summarization = "git_diff"     },
  { name = "plan",        max_tokens = 160, summarization = "step_plan"    },
  { name = "exec",        max_tokens = 120, summarization = "checklist"    }
]
eviction_order = ["exec", "plan", "delta"]

[output]
style = "succinct_actionable"
postamble = "‚úÖ Valide: build/test passam e objetivo foi atendido."
# foco em produto: n√£o deixar ‚Äúrelat√≥rios de tarefa‚Äù no repo
generate_task_summaries = false
allow_repo_writing_of_reports = false

# ajuste a confian√ßa conforme o repo
[projects]
# exemplo: substitua <REPO_NAME> ou remova se preferir dete√ß√£o autom√°tica
"/<ABS_PATH>/<REPO_NAME>" = { trust_level = "trusted" }

[guards]
dangerous_patterns    = ["rm -rf", "dd if=", "mkfs", "drop table", "helm uninstall --all"]
require_confirmation  = true
auto_dry_run          = true

[behaviors]
goal_driven_context   = true
prefer_recent_diffs   = true
refuse_when_unsafe    = true

[summarizers]
bullet_goals = """
- 3‚Äì5 bullets com verbo imperativo + artefato esperado.
"""
hard_rules = """
- Restri√ß√µes duras (build tags, compatibilidade, lint), sem opini√£o est√©tica.
"""
code_facts = """
- Fatos verific√°veis do c√≥digo (assinaturas, tipos, caminhos), sem interpreta√ß√£o.
"""
git_diff = """
- Mudan√ßas por arquivo; +fun√ß√µes, -removidas, contratos alterados; destaque breaking.
"""
step_plan = """
- 3‚Äì6 passos at√¥micos, cada um com checagem objetiva.
"""
checklist = """
- Checklist [ ] execut√°vel.
"""
/// .vscode/keybindings.json ///
[
  { "key": "ctrl+alt+o", "command": "codex.ide.runObjective" },
  { "key": "ctrl+alt+p", "command": "codex.ide.planFromChanges" },
  { "key": "ctrl+alt+d", "command": "codex.ide.applyDiffSafely" },
  { "key": "ctrl+alt+t", "command": "codex.ide.toggleTrace" }
]
/// .vscode/settings.json ///
{
  "codex.ide.manifests.paths": [
    "docs/brand/**/kubex_brand_visual_spec*.md",
    "docs/architecture/**/Resilience-by-Design*.md",
    "docs/governance/**/KUBEX_MANIFESTO*.md"
  ],
  "codex.ide.manifests.maxTokens": 300,
  "codex.ide.manifests.updateStrategy": "incremental",
  "codex.ide.output.style": "succinct_actionable",
  "codex.ide.output.postamble": "‚úÖ Valide: build/test passam e objetivo foi atendido.",
  "codex.ide.context.goalDriven": true,
  "codex.ide.context.evictionOrder": ["exec", "plan", "delta"],
  "codex.ide.scopes": [
    { "name": "objective",   "maxTokens": 120, "summarization": "bullet_goals" },
    { "name": "constraints", "maxTokens": 120, "summarization": "hard_rules"   },
    { "name": "facts",       "maxTokens": 200, "summarization": "code_facts"   },
    { "name": "delta",       "maxTokens": 180, "summarization": "git_diff"     },
    { "name": "plan",        "maxTokens": 160, "summarization": "step_plan"    },
    { "name": "exec",        "maxTokens": 120, "summarization": "checklist"    }
  ],
  "codex.ide.summarizers": {
    "bullet_goals": "- 3‚Äì5 bullets com verbo imperativo + artefato esperado.",
    "hard_rules": "- Restri√ß√µes duras (build tags, compatibilidade, lint), sem opini√£o est√©tica.",
    "code_facts": "- Fatos verific√°veis do c√≥digo (assinaturas, tipos, caminhos), sem interpreta√ß√£o.",
    "git_diff": "- Mudan√ßas por arquivo; +fun√ß√µes, -removidas, contratos alterados; destaque breaking.",
    "step_plan": "- 3‚Äì6 passos at√¥micos, cada um com checagem objetiva.",
    "checklist": "- Checklist [ ] execut√°vel."
  },
  "codex.ide.projects": {
    "/<ABS_PATH>/<REPO_NAME>": {
      "trustLevel": "trusted",
      "languageBias": ["go","ts","tsx","bash","make","md","rust","wasm"],
      "rules": [
        "Sem relat√≥rios de tarefa no repo; apenas artefatos de produto.",
        "Tests e linters como fonte de verdade.",
        "Padr√µes Kubex e Brand visual consistentes."
      ]
    }
  },
  "codex.ide.guards.dangerousPatterns": ["rm -rf","dd if=","mkfs","drop table","helm uninstall --all"],
  "codex.ide.guards.requireConfirmation": true,
  "codex.ide.guards.autoDryRun": true,

  "editor.formatOnSave": true,
  "files.trimFinalNewlines": true,

  "github.copilot.inlineSuggest.enable": true,
  "github.copilot.editor.enableAutoCompletions": true,
  "github.copilot.enable": { "*": true, "markdown": false, "plaintext": false, "yaml": false },
  "github.copilot.advanced": { "excludedFolders": ["docs/brand","docs/architecture","docs/governance",".codex"] }
}
/// .vscode/tasks.json ///
{
  "version": "2.0.0",
  "tasks": [
    { "label": "codex: objective (CLI)", "type": "shell", "command": "codex-cli objective --trace=summary" },
    { "label": "codex: plan from git diff", "type": "shell", "command": "git diff | codex-cli plan --stdin --fail-fast" },
    { "label": "codex: apply (dry-run)", "type": "shell", "command": "codex-cli apply --dry-run" },
    { "label": "codex: apply (confirm)", "type": "shell", "command": "codex-cli apply --yes" }
  ]
}
/// docs/architecture/Resilience-by-Design.md ///
# Resilience by Design ‚Äî Kortex/Kubex (Outline)

> Descrever a arquitetura resiliente e o ‚Äúoffline-first com melhoria progressiva‚Äù.
> Documento curto e objetivo, focado em produto.

## 1. Princ√≠pios
- *Offline-first*, reconex√£o autom√°tica, *event broadcasting* interno
- UI com indicadores de conectividade e frescor
- Fallback seguro sem MCP, upgrades com WebSockets quando presente

## 2. Padr√£o de Estados
- `AppContext` global (Next.js/TS strict)
- Filas de eventos, handlers idempotentes
- Retentativas com *backoff* e circuit breakers

## 3. Integra√ß√£o MCP
- Conex√£o WebSocket com reconex√£o
- Logs e m√©tricas em tempo real
- Estrat√©gia de degrada√ß√£o graciosa

## 4. Build/Deploy
- Static export (`output: 'export'`) para GitHub Pages
- Imagens `unoptimized: true`, trailingSlash
- CI com lint/test/build e checagens de qualidade

## 5. Aceite
- Build est√°vel
- Sem *runtime errors* offline
- Realtime upgrades funcionando quando MCP dispon√≠vel
/// docs/brand/kubex_brand_visual_spec.v0.0.1.md ///
# Kubex Brand Visual Spec
A visual identity guide for all Kubex modules and projects. This document ensures consistent branding across repositories, banners, and promotional assets.

## üé® Color Palette
- **Base / Background**: Deep dark blue-black (`#0a0f14` ‚Üí `#10151b`), subtle grid/dots
- **Primary**: Ciano `#00f0ff`, Verde `#00e676`
- **Secondary**: Roxo `#7c4dff`, Lil√°s `#8e24aa`
- **Contrast/Text**: `#e0f7fa`

## üî§ Typography
- **Title**: futuristic sans (Orbitron/Exo2/Bank Gothic), uppercase + neon glow
- **Subtitle**: monospace (IBM Plex Mono/Source Code Pro), sutil

## üî∑ Elements
Hex√°gonos com outline neon, linhas de conex√£o finas, grid/circuitos, √≠cones minimalistas (Docker, Helm, chat, charts). Radial glow sutil atr√°s do t√≠tulo.

## üìê Composition
1) T√≠tulo central (neon)  
2) Subt√≠tulo curto abaixo  
3) √çcones perif√©ricos em hex√°gonos conectados  
4) Espa√ßo para ‚Äúrespirar‚Äù (sem polui√ß√£o visual)

## üß© Modular Abstraction
- Mesmo DNA visual; cor prim√°ria distinta por m√≥dulo (ex.: GHbex‚ÜíCiano, Kortex‚ÜíTeal, Logz‚ÜíGreen, GoBE‚ÜíPurple)
- √çcones relevantes por dom√≠nio
- Composi√ß√£o consistente

## ‚úÖ Checklist de uso
- [ ] Background dark + textura leve
- [ ] T√≠tulo central neon
- [ ] Subt√≠tulo monospace
- [ ] 2‚Äì3 √≠cones perif√©ricos
- [ ] Linhas finas conectando
- [ ] Cor prim√°ria do m√≥dulo
- [ ] Grid sutil ao fundo
/// docs/governance/KUBEX_MANIFESTO.md ///
# Kubex ‚Äî Manifesto de Co-Autoria (Agentes Cofundadores)

> **Princ√≠pio**: agentes n√£o ‚Äúentregam tarefas‚Äù, **entregam produto**. Nada de arquivos de relato de tarefa no repo.

## Diretrizes
1. **Objetivo verific√°vel**: cada change precisa de resultado observ√°vel (build/test/endpoint/UX).
2. **Sem task-reports**: bloquear `TASK_SUMMARY*.md`, `agent_report*.md` e afins.
3. **Documenta√ß√£o √∫til**: README/guia/ADRs curtos; nada de di√°rios de execu√ß√£o.
4. **Consist√™ncia Kubex**: seguir Brand Visual + Craftsmanship Standards (Go/TS).
5. **Qualidade**: testes, lint, security checks.

## ‚ÄúDone‚Äù
- ‚úÖ Build ok, sem warnings cr√≠ticos
- ‚úÖ Testes cobrindo paths felizes/erro
- ‚úÖ Docs de uso atualizados quando aplic√°vel
- ‚úÖ Nenhum relat√≥rio de tarefa inserido
